!function(e){"use strict";var t={init:function(){var o=t,i={"jet-woo-product-gallery-grid.default":o.productGalleryGrid,"jet-woo-product-gallery-modern.default":o.productGalleryModern,"jet-woo-product-gallery-anchor-nav.default":o.productGalleryAnchorNav,"jet-woo-product-gallery-slider.default":o.productGallerySlider};e.each(i,function(e,t){window.elementorFrontend.hooks.addAction("frontend/element_ready/"+e,t)}),e(".woocommerce div.product").hasClass("product-type-variable")&&e(document).on("show_variation",function(e,t){o.showVariationImage(t)}).on("reset_image",function(e,t){o.showVariationImage(t)})},initBlocks:function(o){o=o||e("body");let i=e(".blocks-jet-woo-product-gallery-grid",o),r=e(".blocks-jet-woo-product-gallery-modern",o),a=e(".blocks-jet-woo-product-gallery-anchor-nav",o),n=e(".blocks-jet-woo-product-gallery-slider",o);i.length&&i.each(function(o,i){let r=e(this);t.productGalleryGrid(r)}),r.length&&r.each(function(o,i){let r=e(this);t.productGalleryModern(r)}),a.length&&a.each(function(o,i){let r=e(this);t.productGalleryAnchorNav(r)}),n.length&&n.each(function(o,i){let r=e(this);t.productGallerySlider(r)})},showVariationImage:function(t){var o=e(document).find(".product").find(".jet-woo-product-gallery");e.each(o,function(){var o=e(this).data("variation-images"),i=e(this).find(".jet-woo-product-gallery-slider"),r=i.data("swiper-settings"),a=null,n=null,l=e(this).children().data("featured-image"),s=e(this).data("gallery-settings").videoFirst?1:0,d=i.find(".jet-woo-product-gallery__image-item").length;r&&r.loop&&d>1?(a=e(this).find('.jet-woo-product-gallery__image-item[data-swiper-slide-index = "'+s+'"]'),n=e(this).find('.jet-woo-swiper-control-thumbs__item[data-swiper-slide-index = "'+s+'"] img')):(a=e(this).find(".jet-woo-product-gallery__image-item").eq(s),n=e(this).find(".jet-woo-swiper-control-thumbs__item").eq(s).find("img"));var c=a.find(".wp-post-image"),u=a.find("a").eq(0);if(l||(c=a.find(".wp-post-gallery")),t&&t.image&&t.image.src&&t.image.src.length>1){var p=o[t.image_id];!function(e,t){c.wc_set_variation_attr("src",t.src),c.wc_set_variation_attr("height",t.src_h),c.wc_set_variation_attr("width",t.src_w),c.wc_set_variation_attr("srcset",t.srcset),c.wc_set_variation_attr("sizes",t.sizes),c.wc_set_variation_attr("title",e.image.title),c.wc_set_variation_attr("data-caption",e.image.caption),c.wc_set_variation_attr("alt",e.image.alt),c.wc_set_variation_attr("data-src",t.src),c.wc_set_variation_attr("data-large_image",t.full_src),c.wc_set_variation_attr("data-large_image_width",t.full_src_w),c.wc_set_variation_attr("data-large_image_height",t.full_src_h),a.wc_set_variation_attr("data-thumb",t.src),u.wc_set_variation_attr("href",e.image.full_src),n.wc_set_variation_attr("src",e.image.thumb_src),n.wc_set_variation_attr("width",e.image.thumb_src_w),n.wc_set_variation_attr("height",e.image.thumb_src_h),n.wc_set_variation_attr("srcset","")}(t,p)}else c.wc_reset_variation_attr("src"),c.wc_reset_variation_attr("width"),c.wc_reset_variation_attr("height"),c.wc_reset_variation_attr("srcset"),c.wc_reset_variation_attr("sizes"),c.wc_reset_variation_attr("title"),c.wc_reset_variation_attr("data-caption"),c.wc_reset_variation_attr("alt"),c.wc_reset_variation_attr("data-src"),c.wc_reset_variation_attr("data-large_image"),c.wc_reset_variation_attr("data-large_image_width"),c.wc_reset_variation_attr("data-large_image_height"),a.wc_reset_variation_attr("data-thumb"),u.wc_reset_variation_attr("href"),n.wc_reset_variation_attr("src"),n.wc_reset_variation_attr("width"),n.wc_reset_variation_attr("height")}),e(document).trigger("jet-woo-gallery-variation-image-change")},productGallerySlider:function(o){let i=o.find(".jet-gallery-swiper-slider .swiper-container"),r=i.data("swiper-settings"),a=o.find(".jet-woo-product-gallery").data("gallery-settings")||o.data("gallery-settings"),n=i.data("swiper-thumb-settings"),l=i.find(".jet-woo-product-gallery__image-item").length,s=r?r.paginationType:"",d=o.find(".jet-woo-swiper-gallery-thumbs"),c=t.getElementorElementSettings(o),u=window.elementorFrontend?window.elementorFrontend.config.responsive.activeBreakpoints:[];if(l>1){let l={slidesPerView:1,touchReleaseOnEdges:!0};if(r.showNavigation&&(l.navigation={nextEl:".jet-swiper-button-next",prevEl:".jet-swiper-button-prev"}),r.centeredSlides&&c.length>0){let e=+c.slider_center_mode_slides||4,t=+c.slider_center_mode_padding,o={mobile:2,tablet:3};l.slidesPerView=e,l.spaceBetween=t,l.handleElementorBreakpoints=!0,l.breakpoints={};let i=e;Object.keys(u).reverse().forEach(e=>{const t=o[e]?o[e]:i;l.breakpoints[u[e].value]={slidesPerView:+c["slider_center_mode_slides_"+e]||t,spaceBetween:+c["slider_center_mode_padding_"+e]||10},i=+c["slider_center_mode_slides_"+e]||t})}l.on={init:()=>{t.productGallery(o)}};var p,_,w=!1;if(r.showPagination)if("thumbnails"===s){let t=+c.pagination_thumbnails_columns||4,o=+c.pagination_thumbnails_space_between||10,a={mobile:2,tablet:3};var g={slidesPerView:t,spaceBetween:o,loop:r.loop,direction:r.direction,freeMode:r.loop,loopAdditionalSlides:0,watchSlidesVisibility:!0,watchSlidesProgress:!0,navigation:{nextEl:".jet-swiper-button-next",prevEl:".jet-swiper-button-prev"}};if(c.length>0){g.breakpoints={},g.handleElementorBreakpoints=!0;let e=t;Object.keys(u).reverse().forEach(t=>{const o=a[t]?a[t]:e;g.breakpoints[u[t].value]={slidesPerView:+c["pagination_thumbnails_columns_"+t]||o,spaceBetween:+c["pagination_thumbnails_space_between_"+t]||10},e=+c["pagination_thumbnails_columns_"+t]||o})}if(window.elementorFrontend&&window.elementorFrontend.utils&&("undefined"==typeof Swiper||"function"==typeof Swiper)){const t=window.elementorFrontend.utils.swiper;w=!0,new t(d,e.extend({},g,n)).then(e=>{l.thumbs={swiper:e}}).then(()=>{new t(i,e.extend({},l,r)).then(e=>{_=e})})}else p=new Swiper(d,e.extend({},g,n)),l.thumbs={swiper:p};let s=d.find(".jet-woo-swiper-control-thumbs__item").length,m=+c.pagination_thumbnails_columns;window.elementorFrontend&&"desktop"!==window.elementorFrontend.getCurrentDeviceMode()&&(m=+c["pagination_thumbnails_columns_"+window.elementorFrontend.getCurrentDeviceMode()]),m>=s&&(d.addClass("jet-woo-swiper-gallery-thumbs-no-nav"),d.find(".jet-swiper-nav").hide())}else l.pagination={el:".swiper-pagination",type:"dynamic"!==r.paginationControllerType?r.paginationControllerType:"bullets",clickable:!0,dynamicBullets:"dynamic"===r.paginationControllerType};if(window.elementorFrontend&&window.elementorFrontend.utils&&("undefined"==typeof Swiper||"function"==typeof Swiper)){const t=window.elementorFrontend.utils.swiper;w||new t(i,e.extend({},l,r)).then(e=>{_=e})}else _=new Swiper(i,e.extend({},l,r));"vertical"===r.direction&&setTimeout(function(){_.update()},100),"self_hosted"===a.videoType&&setTimeout(function(){let e=i.find(".jet-woo-product-gallery--with-video");a.videoFirst&&_.updateAutoHeight(),e.on("click",function(){setTimeout(function(){_.updateAutoHeight(100)},100)})},100);let m=!1;e(document).on("jet-woo-gallery-variation-image-change",()=>{setTimeout(function(){_.updateAutoHeight(300)},100);let e=a.videoFirst,t=0;if(!_)return!1;m&&e&&(t=1),r.loop?_.slideToLoop(t,300,!0):_.slideTo(t,300,!0),m=!0}),r.loop&&i.find(".swiper-slide-duplicate video.jet-woo-product-video-player ").removeAttr("autoplay")}else t.productGallery(o),o.find(".jet-swiper-nav").hide()},productGalleryGrid:function(e){t.productGallery(e)},productGalleryModern:function(e){t.productGallery(e)},productGalleryAnchorNav:function(o){var i,r,a,n=o.find(".jet-woo-product-gallery__image-item"),l=o.find(".jet-woo-product-gallery-anchor-nav-items"),s=o.find(".jet-woo-product-gallery-anchor-nav-controller"),d=s.find("li a"),c=[],u=!1,p=0,_=0,w=e("#wpadminbar");function g(){e(n).each(function(){var t=e(this).attr("id");c[t]=e(this).offset().top})}function m(){for(var t in c)_>=c[t]-p&&(e(s).find("a.current-item").removeClass("current-item"),e(s).find('a[data-index="'+t+'"]').addClass("current-item"))}w.length&&(p=w.outerHeight()),t.productGallery(o),g(),i=!1,r=!1,a=!1,e(window).on("scroll",function(){var t=e(window).scrollTop(),o=e(l).outerHeight(!0),n=e(s).outerHeight(!0),d=e(l).offset().top,c=e(s).offset().top,u=d+o,_=c+n;u-n-p<=t||(!0===r&&!1===a&&e(s).css({top:t-d+p+"px"}),t<c&&t<_&&(i=!1,r=!0,e(s).css({top:t-d+p+"px"})),!1===i&&t>d&&(i=!0,r=!0,a=!1),!1===i&&d>t&&(i=!1,r=!1,a=!1,e(s).removeAttr("style")))}),e(window).scroll(function(){u||(g(),_=e(document).scrollTop(),m())}),_=e(document).scrollTop(),m(),e(d).on("click",function(){m();var t=e(this).data("index"),o=c[t];if(u=!0,e(s).find("a.current-item").removeClass("current-item"),e(this).addClass("current-item"),t,e(this).parents().hasClass("jet-popup")){let t=e(this).closest(".jet-popup__container-inner");e(t).animate({scrollTop:o-e(t).offset().top+1},"fast",function(){u=!1})}else e("html, body").animate({scrollTop:o-p+1},"fast",function(){u=!1});return!1})},productGallery:function(t){var o=t.data("id")||t.parent().data("block-id"),i=t.find(".jet-woo-product-gallery").data("gallery-settings")||t.data("gallery-settings"),r=t.find(".jet-woo-product-gallery__image-item:not(.swiper-slide-duplicate) .jet-woo-product-gallery__image:not(.image-with-placeholder)"),a=t.find(".jet-woo-product-gallery__image--with-zoom"),n=b(),l=t.find(".jet-woo-product-gallery__trigger"),s=e(".jet-woo-product-gallery-pswp")[0],d=t.find(".jet-woo-product-video__popup-button"),c=t.find(".jet-woo-product-video__popup-overlay"),u=t.find(".jet-woo-product-video-iframe"),p=!!u[0]&&u[0].src,_=t.find(".jet-woo-product-video-player")[0],w=t.find(".jet-woo-product-video-mejs-player"),g=w.data("controls")||["playpause","current","progress","duration","volume","fullscreen"],m=t.find(".jet-woo-product-video__overlay"),f=m.length>0;if(i){var h={mainClass:t.parent().data("block-id")?o+"-jet-woo-product-gallery":o?"jet-woo-product-gallery-"+o:"",captionEl:i.caption?i.caption:"",fullscreenEl:!!i.fullscreen&&i.fullscreen,zoomEl:!!i.zoom&&i.zoom,shareEl:!!i.share&&i.share,counterEl:!!i.counter&&i.counter,arrowEl:!!i.arrows&&i.arrows,closeOnScroll:!1},v=i.videoAutoplay,y=i.videoFirst;i.enableGallery&&(l.on("click.JetWooProductGallery",function(o){if(o.preventDefault(),e("body").hasClass("elementor-editor-active"))return;var i,r=e(o.target),a=t.find(".jet-woo-product-gallery__image-item.featured").hasClass("no-image"),l=r.parents(".jet-woo-product-gallery__image-item"),d=l.data("swiper-slide-index");i=void 0!==d?d:e(l).index();(a||y)&&(i-=1);h.index=i,new PhotoSwipe(s,PhotoSwipeUI_Default,n,h).init()}),e(document).on("jet-woo-gallery-variation-image-change",function(){n=b()})),i.enableZoom&&(j(),e(document).on("jet-woo-gallery-variation-image-change",j)),i.hasVideo&&function(){switch(i.videoIn){case"content":m[0]&&(m.on("click.JetWooProductGallery",function(t){_&&function(t){let o="";o=e(t).hasClass("jet-woo-product-video__overlay")?e(t).siblings().find(".jet-woo-product-video-player")[1]:e(t).parents(".jet-woo-product-video__overlay").siblings().find(".jet-woo-product-video-player")[1];o.play(),m.remove(),f=!1}(t.target),u[0]&&o(t)}),v&&u[0]&&o(event)),_&&e(_).on("play.JetWooProductGallery",function(e){f&&(m.remove(),f=!1)}),w[0]&&t();break;case"popup":t(),d.on("click.JetWooProductGallery",function(e){!function(){d.siblings(".jet-woo-product-video__popup-content").addClass("jet-woo-product-video__popup--show"),_&&(_.play(),v||(_.pause(),_.currentTime=0));u[0]&&(u[0].src=p,v&&(u[0].src=u[0].src.replace("&autoplay=0","&autoplay=1")))}()}),c.on("click.JetWooProductGallery",function(e){!function(){d.siblings(".jet-woo-product-video__popup-content").removeClass("jet-woo-product-video__popup--show"),u[0]&&(u[0].src="");_&&(_.currentTime=0,_.pause())}()})}function t(){w.mediaelementplayer({videoVolume:"horizontal",hideVolumeOnTouchDevices:!1,enableProgressTooltip:!1,features:g,autoplay:!1}).load()}function o(t){if(v)u.each(function(){e(this).parents(".jet-woo-product-gallery__image-item").hasClass("swiper-slide-duplicate")&&(e(this)[0].src=e(this)[0].src.replace("&autoplay=1","&autoplay=0"))});else{let o="";(o=e(t.target).hasClass("jet-woo-product-video__overlay")?e(t.target).siblings().find(".jet-woo-product-video-iframe"):e(t.target).parents(".jet-woo-product-video__overlay").siblings().find(".jet-woo-product-video-iframe"))[0].src=o[0].src.replace("&autoplay=0","&autoplay=1")}m.remove(),f=!1}}()}function j(){var t=!1,o={magnify:i.zoomMagnify,touch:!1};a.each(function(o,i){var r=e(i).find("img"),a=r.parent().width();r.data("large_image_width")>a&&(t=!0)}),t&&("ontouchstart"in document.documentElement&&(o.on="click"),a.trigger("zoom.destroy"),a.zoom(o))}function b(){var t=[];return r.length>0&&r.each(function(o,i){var r=e(i).find("img");if(r.length){var a={src:r.attr("data-large_image"),w:r.attr("data-large_image_width"),h:r.attr("data-large_image_height"),title:r.attr("data-caption")?r.attr("data-caption"):r.attr("title")};t.push(a)}}),t}e(".jet-woo-product-gallery__image-item").find("img").on("click",function(e){e.preventDefault()})},getElementorElementSettings:function(e){return window.elementorFrontend&&window.elementorFrontend.isEditMode()&&e.hasClass("elementor-element-edit-mode")?t.getEditorElementSettings(e):e.data("settings")||{}},getEditorElementSettings:function(e){var t,o=e.data("model-cid");return o&&window.elementorFrontend.hasOwnProperty("config")&&window.elementorFrontend.config.hasOwnProperty("elements")&&window.elementorFrontend.config.elements.hasOwnProperty("data")&&(t=window.elementorFrontend.config.elements.data[o])?t.toJSON():{}}};e(window).on("elementor/frontend/init",t.init),e(t.initBlocks)}(jQuery);